/**
 * Copyright 2020 Bonitasoft S.A.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { Group as GGroup } from '@antv/g-canvas';
import { IShape } from '@antv/g-canvas/lib/interfaces';
import { BpmnNodeConfig } from '../G6Renderer';
import { StyleDefault } from '../StyleUtils';

// function paintEnvelopeIcon(paintParameter: PaintParameter, isFilled: boolean): void {
//   IconPainterProvider.get().paintEnvelopeIcon({
//     ...paintParameter,
//     setIconOrigin: (canvas: BpmnCanvas) => canvas.setIconOriginToShapeTopLeft(),
//     ratioFromParent: 0.2,
//     icon: { ...paintParameter.icon, isFilled: isFilled },
//   });
// }

/*CALL_ACTIVITY = 'callActivity',
  SUB_PROCESS = 'subProcess',*/

const ICON_MAP = {
  //     this.iconPainter.paintPersonIcon({ ...paintParameter, setIconOrigin: (canvas: BpmnCanvas) => canvas.setIconOriginToShapeTopLeftProportionally(20) });
  userTask:
    'data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjMDAwMDAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwIDEwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZD0iTTgxLjk0NywxOC4zNWMtMy45OTYsMC4wMDEtNy41NjYsMS44LTkuOTYxLDQuNjI4Yy02LjEyMy00LjMzNC0xMi44MjUtNi4yNC0xOS40NDEtNi4yMzUgICBjLTExLjEzMywwLjAwOS0yMS45OTMsNS4zLTMwLjExMSwxMy4xNDVjLTQuMDYsMy45MjctNy40MzgsOC41MDQtOS44MTEsMTMuNDI1Yy0yLjM3Miw0LjkyLTMuNzQxLDEwLjE5LTMuNzQxLDE1LjQ4NSAgIGMwLDAuMjE4LDAuMDUyLDAuNDIzLDAuMTM4LDAuNjA5QzYuNTgyLDYxLjI2LDUuMDAxLDY0LjE4Myw1LDY3LjQ4M3Y1LjYyM2MwLjAwMSw1LjYwOCw0LjU0NSwxMC4xNTEsMTAuMTUyLDEwLjE1Mmg0LjgzOGwwLjAwMSwwICAgbDAuMDAxLDBoMTMuNTkybDAuMDAxLDBsMC4wMDEsMGgxMy41OTNsMC4wMDEsMGwwLjAwMSwwaDEzLjU5MmwwLjAwMSwwbDAuMDAxLDBINzQuMzdsMC4wMDEsMGwwLjAwMSwwaDQuODM4ICAgYzUuNjA3LTAuMDAxLDEwLjE1MS00LjU0NSwxMC4xNTItMTAuMTUydi01LjYyM2MtMC4wMDEtMy4yOTctMS41NzgtNi4yMTctNC4wMTItOC4wNzFjMC4xMzgtMC4yODMsMC4xOTItMC42MTEsMC4xMTktMC45NDNsMCwwICAgYy0xLjE2OS01LjM0Ni0zLjE4Mi0xMC4zNjgtNi4zNDQtMTQuMzI5YzAuOTA5LDAuMjAxLDEuODUxLDAuMzE0LDIuODIxLDAuMzE0Qzg5LjE1Nyw0NC40NTQsOTQuOTk5LDM4LjYxMiw5NSwzMS40MDIgICBDOTQuOTk5LDI0LjE5Myw4OS4xNTcsMTguMzUxLDgxLjk0NywxOC4zNXogTTg2LjQ2LDY3LjQ4M3Y1LjYyM2MtMC4wMDEsMi4wMDYtMC44MDksMy44MS0yLjEyMyw1LjEyNiAgIGMtMS4zMTYsMS4zMTQtMy4xMTksMi4xMjItNS4xMjYsMi4xMjNoLTMuMzg4di04LjE0N2MwLTAuODAyLTAuNjUtMS40NTItMS40NTItMS40NTJjLTAuODAyLDAtMS40NTIsMC42NS0xLjQ1MiwxLjQ1MnY4LjE0NyAgIEg2Mi4yMjh2LTguMTQ3YzAtMC44MDItMC42NS0xLjQ1Mi0xLjQ1Mi0xLjQ1MmMtMC44MDIsMC0xLjQ1MiwwLjY1LTEuNDUyLDEuNDUydjguMTQ3SDQ4LjYzM3YtOC4xNDcgICBjMC0wLjgwMi0wLjY1LTEuNDUyLTEuNDUyLTEuNDUyYy0wLjgwMiwwLTEuNDUyLDAuNjUtMS40NTIsMS40NTJ2OC4xNDdIMzUuMDM4di04LjE0N2MwLTAuODAyLTAuNjUtMS40NTItMS40NTItMS40NTIgICBjLTAuODAyLDAtMS40NTIsMC42NS0xLjQ1MiwxLjQ1MnY4LjE0N0gyMS40NDR2LTguMTQ3YzAtMC44MDItMC42NS0xLjQ1Mi0xLjQ1Mi0xLjQ1MmMtMC44MDIsMC0xLjQ1MiwwLjY1LTEuNDUyLDEuNDUydjguMTQ3ICAgaC0zLjM4OGMtMi4wMDYtMC4wMDEtMy44MS0wLjgwOS01LjEyNi0yLjEyM2MtMS4zMTQtMS4zMTYtMi4xMjItMy4xMi0yLjEyMy01LjEyNnYtNS42MjNjMC4wMDEtMi4wMDYsMC44MDktMy44MSwyLjEyMy01LjEyNiAgIGMxLjMxNi0xLjMxNCwzLjEyLTIuMTIyLDUuMTI2LTIuMTIzaDY0LjA1OGMyLjAwNiwwLjAwMSwzLjgwOSwwLjgwOSw1LjEyNiwyLjEyM0M4NS42NTEsNjMuNjczLDg2LjQ1OSw2NS40NzYsODYuNDYsNjcuNDgzeiAgICBNNzkuMjExLDU3LjMzSDE1LjE1M2MtMS4xNzIsMC0yLjI5MiwwLjIwOS0zLjMzOSwwLjU3NGMwLjE0My00LjQ5OSwxLjM1MS05LjAzMSwzLjQyNS0xMy4zMzEgICBjMy4zMTMtNi44NzYsOC44MDktMTMuMTQsMTUuNDAxLTE3LjY1NGM2LjU5My00LjUxOCwxNC4yNjItNy4yNzcsMjEuOTA2LTcuMjc0YzYuMDg5LDAuMDA1LDEyLjE2OSwxLjcyNywxNy44MjQsNS43NDQgICBjLTAuOTM3LDEuOC0xLjQ3NSwzLjg0Mi0xLjQ3NSw2LjAxM2MwLDIuMjcyLDAuNTgzLDQuNDA3LDEuNjAzLDYuMjY3Yy0yLjQwNC0wLjkzMS01LjEwMi0xLjQzOS04LjA4OS0xLjQzOCAgIGMtMS4xNDEsMC0yLjMyNSwwLjA3My0zLjU1MiwwLjIyNGMtMC43OTYsMC4wOTgtMS4zNjIsMC44MjItMS4yNjQsMS42MThjMC4wOTgsMC43OTYsMC44MjIsMS4zNjIsMS42MTgsMS4yNjQgICBjMS4xMTYtMC4xMzcsMi4xODEtMC4yMDIsMy4xOTktMC4yMDJjMy4wMDIsMC4wMDEsNS41NzcsMC41NjUsNy44MTQsMS41NjFjMy4zNSwxLjQ5NSw1Ljk3NCwzLjk3Nyw4LjAyMiw3LjE2MyAgIGMxLjgzNSwyLjg1OCwzLjE3OSw2LjI4Miw0LjA5Miw5Ljk2N0M4MS4zNTEsNTcuNTA3LDgwLjMwMiw1Ny4zMzEsNzkuMjExLDU3LjMzeiBNODkuMTI0LDM4LjU3OSAgIGMtMS44NDEsMS44MzktNC4zNjksMi45NzItNy4xNzcsMi45NzNjLTIuODA3LTAuMDAxLTUuMzM2LTEuMTM0LTcuMTc3LTIuOTczYy0xLjgzOS0xLjg0MS0yLjk3Mi00LjM2OS0yLjk3My03LjE3NyAgIGMwLjAwMS0xLjg5OCwwLjUyOC0zLjY2MSwxLjQzMS01LjE3OGMwLjEwNS0wLjA3OCwwLjIwNC0wLjE2NSwwLjI4Ny0wLjI3M2MwLjEzMS0wLjE2OSwwLjIxNS0wLjM1OCwwLjI2MS0wLjU1MyAgIGMwLjMwNC0wLjQxMywwLjYzLTAuODEsMC45OTMtMS4xNzNjMS44NDEtMS44MzksNC4zNjktMi45NzIsNy4xNzctMi45NzNjMi44MDcsMC4wMDEsNS4zMzUsMS4xMzQsNy4xNzcsMi45NzMgICBjMS44MzksMS44NDEsMi45NzIsNC4zNjksMi45NzMsNy4xNzdDOTIuMDk2LDM0LjIwOSw5MC45NjMsMzYuNzM4LDg5LjEyNCwzOC41Nzl6Ij48L3BhdGg+PC9nPjwvc3ZnPg==',

  //     this.iconPainter.paintGearIcon({ ...paintParameter, setIconOrigin: (canvas: BpmnCanvas) => canvas.setIconOriginToShapeTopLeftProportionally(20) });
  serviceTask:
    'data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjMDAwMDAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwIDEwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZD0iTTUwLDkuMjg2YzAuNTY0LDAsMS4xMTYtMC4yMjksMS41MTUtMC42MjhjMC4zOTktMC4zOTksMC42MjgtMC45NTEsMC42MjgtMS41MTVjMC0wLjU2NC0wLjIyOS0xLjExNi0wLjYyOC0xLjUxNSAgIEM1MS4xMTYsNS4yMjksNTAuNTY0LDUsNTAsNWMtMC41NjQsMC0xLjExNiwwLjIyOS0xLjUxNSwwLjYyOGMtMC4zOTksMC4zOTktMC42MjgsMC45NTEtMC42MjgsMS41MTUgICBjMCwwLjU2NCwwLjIyOSwxLjExNiwwLjYyOCwxLjUxNUM0OC44ODQsOS4wNTcsNDkuNDM2LDkuMjg2LDUwLDkuMjg2eiI+PC9wYXRoPjxwYXRoIGQ9Ik01MS40MjksNTMuNDQ5bDcuOTExLDcuOTExbDkuOTMxLDkuOTMxdjguNTE4YzAsMC43ODksMC42NCwxLjQyOSwxLjQyOSwxLjQyOWMwLjc4OSwwLDEuNDI5LTAuNjQsMS40MjktMS40MjloMHYtNy42ODEgICBoNy42ODFjMC43ODksMCwxLjQyOC0wLjY0LDEuNDI4LTEuNDI4YzAtMC43ODktMC42NC0xLjQyOC0xLjQyOC0xLjQyOGwtOC41MTgsMGwtOS45MzEtOS45MzFsLTcuOTExLTcuOTExaDExLjE4OGgxNC4wNDUgICBsNi4wMjMsNi4wMjNjMC41NTgsMC41NTgsMS40NjIsMC41NTgsMi4wMiwwYzAuNTU4LTAuNTU4LDAuNTU4LTEuNDYyLDAtMi4wMmwwLDBMODEuMjkzLDUwbDUuNDMxLTUuNDMxICAgYzAuNTU4LTAuNTU4LDAuNTU4LTEuNDYyLDAtMi4wMmMtMC41NTgtMC41NTgtMS40NjItMC41NTgtMi4wMiwwbC02LjAyMyw2LjAyM2wtMTQuMDQ0LDBINTMuNDQ5bDcuOTExLTcuOTExbDkuOTMxLTkuOTMxaDguNTE4ICAgYzAuNzg5LDAsMS40MjgtMC42NCwxLjQyOC0xLjQyOGMwLTAuNzg5LTAuNjQtMS40MjgtMS40MjgtMS40Mjh2MGgtNy42ODF2LTcuNjgxYzAtMC43ODktMC42NC0xLjQyOS0xLjQyOS0xLjQyOSAgIGMtMC43ODksMC0xLjQyOSwwLjY0LTEuNDI5LDEuNDI5bDAsOC41MThsLTkuOTMxLDkuOTMxbC03LjkxMSw3LjkxMVYzNS4zNjRWMjEuMzE5bDYuMDIzLTYuMDIzYzAuNTU4LTAuNTU4LDAuNTU4LTEuNDYyLDAtMi4wMiAgIGMtMC41NTgtMC41NTgtMS40NjItMC41NTgtMi4wMiwwbDAsMEw1MCwxOC43MDdsLTUuNDMxLTUuNDMxYy0wLjU1OC0wLjU1OC0xLjQ2Mi0wLjU1OC0yLjAyLDBjLTAuNTU4LDAuNTU4LTAuNTU4LDEuNDYyLDAsMi4wMiAgIGw2LjAyMyw2LjAyM2wwLDE0LjA0NXYxMS4xODdsLTcuOTExLTcuOTExbC05LjkzMS05LjkzMXYtOC41MThjMC0wLjc4OS0wLjY0LTEuNDI5LTEuNDI5LTEuNDI5cy0xLjQyOSwwLjY0LTEuNDI5LDEuNDI5aDB2Ny42ODEgICBoLTcuNjgxYy0wLjc4OSwwLTEuNDI5LDAuNjQtMS40MjksMS40MjljMCwwLjc4OSwwLjY0LDEuNDI5LDEuNDI5LDEuNDI5bDguNTE4LDBsOS45MzEsOS45MzFsNy45MTEsNy45MTFIMzUuMzY0SDIxLjMxOSAgIGwtNi4wMjMtNi4wMjNjLTAuNTU4LTAuNTU4LTEuNDYyLTAuNTU4LTIuMDIsMGMtMC41NTgsMC41NTgtMC41NTgsMS40NjIsMCwyLjAybDAsMEwxOC43MDcsNTBsLTUuNDMxLDUuNDMyICAgYy0wLjU1OCwwLjU1OC0wLjU1OCwxLjQ2MiwwLDIuMDJjMC41NTgsMC41NTgsMS40NjIsMC41NTgsMi4wMiwwbDYuMDIzLTYuMDIzbDE0LjA0NSwwaDExLjE4OGwtNy45MTEsNy45MTFsLTkuOTMxLDkuOTMxaC04LjUxOCAgIGMtMC43ODksMC0xLjQyOSwwLjY0LTEuNDI5LDEuNDI5YzAsMC43ODksMC42NCwxLjQyOSwxLjQyOSwxLjQyOXYwaDcuNjgxdjcuNjgxYzAsMC43ODksMC42NCwxLjQyOSwxLjQyOSwxLjQyOSAgIGMwLjc4OSwwLDEuNDI5LTAuNjQsMS40MjktMS40MjlsMC04LjUxOGw5LjkzMS05LjkzMWw3LjkxMS03LjkxMXYxMS4xODh2MTQuMDQ1bC02LjAyMyw2LjAyM2MtMC41NTgsMC41NTgtMC41NTgsMS40NjIsMCwyLjAyICAgYzAuNTU4LDAuNTU4LDEuNDYyLDAuNTU4LDIuMDIsMGwwLDBMNTAsODEuMjkzbDUuNDMxLDUuNDMyYzAuNTU4LDAuNTU4LDEuNDYyLDAuNTU4LDIuMDIsMGMwLjU1OC0wLjU1OCwwLjU1OC0xLjQ2MiwwLTIuMDIgICBsLTYuMDIzLTYuMDIzbDAtMTQuMDQ1VjUzLjQ0OXoiPjwvcGF0aD48cGF0aCBkPSJNNTAsOTAuNzE0Yy0wLjU2NCwwLTEuMTE2LDAuMjI5LTEuNTE1LDAuNjI4Yy0wLjM5OSwwLjM5OS0wLjYyOCwwLjk1MS0wLjYyOCwxLjUxNWMwLDAuNTY0LDAuMjI5LDEuMTE2LDAuNjI4LDEuNTE1ICAgQzQ4Ljg4NCw5NC43NzEsNDkuNDM2LDk1LDUwLDk1YzAuNTY0LDAsMS4xMTYtMC4yMjksMS41MTUtMC42MjhjMC4zOTktMC4zOTksMC42MjgtMC45NTEsMC42MjgtMS41MTUgICBjMC0wLjU2NC0wLjIyOS0xLjExNi0wLjYyOC0xLjUxNUM1MS4xMTYsOTAuOTQzLDUwLjU2NCw5MC43MTQsNTAsOTAuNzE0eiI+PC9wYXRoPjxwYXRoIGQ9Ik03LjE0Myw1Mi4xNDNjMC41NjQsMCwxLjExNi0wLjIyOSwxLjUxNS0wLjYyOEM5LjA1Nyw1MS4xMTYsOS4yODYsNTAuNTY0LDkuMjg2LDUwYzAtMC41NjQtMC4yMjktMS4xMTYtMC42MjgtMS41MTUgICBjLTAuMzk5LTAuMzk5LTAuOTUxLTAuNjI4LTEuNTE1LTAuNjI4cy0xLjExNiwwLjIyOS0xLjUxNSwwLjYyOEM1LjIyOSw0OC44ODQsNSw0OS40MzYsNSw1MGMwLDAuNTY0LDAuMjI5LDEuMTE2LDAuNjI4LDEuNTE1ICAgQzYuMDI3LDUxLjkxNCw2LjU3OSw1Mi4xNDMsNy4xNDMsNTIuMTQzeiI+PC9wYXRoPjxwYXRoIGQ9Ik05Mi44NTcsNTIuMTQzYzAuNTY0LDAsMS4xMTYtMC4yMjksMS41MTUtMC42MjhDOTQuNzcxLDUxLjExNiw5NSw1MC41NjQsOTUsNTBjMC0wLjU2NC0wLjIyOS0xLjExNi0wLjYyOC0xLjUxNSAgIGMtMC4zOTktMC4zOTktMC45NTEtMC42MjgtMS41MTUtMC42MjhjLTAuNTY0LDAtMS4xMTYsMC4yMjktMS41MTUsMC42MjhjLTAuMzk5LDAuMzk5LTAuNjI4LDAuOTUxLTAuNjI4LDEuNTE1ICAgYzAsMC41NjQsMC4yMjksMS4xMTYsMC42MjgsMS41MTVDOTEuNzQxLDUxLjkxNCw5Mi4yOTMsNTIuMTQzLDkyLjg1Nyw1Mi4xNDN6Ij48L3BhdGg+PHBhdGggZD0iTTgwLjMwNSwyMS44MzhjMC41NjQsMCwxLjExNi0wLjIyOSwxLjUxNS0wLjYyOGMwLjM5OS0wLjM5OSwwLjYyOC0wLjk1MSwwLjYyOC0xLjUxNWMwLTAuNTY0LTAuMjI5LTEuMTE2LTAuNjI4LTEuNTE1ICAgYy0wLjM5OS0wLjM5OS0wLjk1MS0wLjYyOC0xLjUxNS0wLjYyOGMtMC41NjQsMC0xLjExNiwwLjIyOS0xLjUxNSwwLjYyOGMtMC4zOTksMC4zOTktMC42MjgsMC45NTEtMC42MjgsMS41MTUgICBjMCwwLjU2NCwwLjIyOSwxLjExNiwwLjYyOCwxLjUxNUM3OS4xODgsMjEuNjEsNzkuNzQsMjEuODM4LDgwLjMwNSwyMS44Mzh6Ij48L3BhdGg+PHBhdGggZD0iTTIxLjIxMSw4MS44MmMwLjM5OS0wLjM5OSwwLjYyOC0wLjk1MSwwLjYyOC0xLjUxNWMwLTAuNTY0LTAuMjI5LTEuMTE2LTAuNjI4LTEuNTE1Yy0wLjM5OS0wLjM5OS0wLjk1MS0wLjYyOC0xLjUxNS0wLjYyOCAgIGMtMC41NjQsMC0xLjExNiwwLjIyOS0xLjUxNSwwLjYyOGMtMC4zOTksMC4zOTktMC42MjgsMC45NTEtMC42MjgsMS41MTVjMCwwLjU2NCwwLjIyOSwxLjExNiwwLjYyOCwxLjUxNSAgIGMwLjM5OSwwLjM5OSwwLjk1MSwwLjYyOCwxLjUxNSwwLjYyOEMyMC4yNiw4Mi40NDcsMjAuODEyLDgyLjIxOSwyMS4yMTEsODEuODJ6Ij48L3BhdGg+PHBhdGggZD0iTTE5LjY5NSwyMS44MzhjMC41NjQsMCwxLjExNi0wLjIyOSwxLjUxNS0wLjYyOGMwLjM5OS0wLjM5OSwwLjYyOC0wLjk1MSwwLjYyOC0xLjUxNWMwLTAuNTY0LTAuMjI5LTEuMTE2LTAuNjI4LTEuNTE1ICAgYy0wLjM5OS0wLjM5OS0wLjk1MS0wLjYyOC0xLjUxNS0wLjYyOGMtMC41NjQsMC0xLjExNiwwLjIyOS0xLjUxNSwwLjYyOGMtMC4zOTksMC4zOTktMC42MjgsMC45NTEtMC42MjgsMS41MTUgICBjMCwwLjU2NCwwLjIyOSwxLjExNiwwLjYyOCwxLjUxNUMxOC41NzksMjEuNjEsMTkuMTMxLDIxLjgzOCwxOS42OTUsMjEuODM4eiI+PC9wYXRoPjxwYXRoIGQ9Ik03OC43ODksNzguNzg5Yy0wLjM5OSwwLjM5OS0wLjYyOCwwLjk1MS0wLjYyOCwxLjUxNWMwLDAuNTY0LDAuMjI5LDEuMTE2LDAuNjI4LDEuNTE1ICAgYzAuMzk5LDAuMzk5LDAuOTUxLDAuNjI4LDEuNTE1LDAuNjI4YzAuNTY0LDAsMS4xMTYtMC4yMjksMS41MTUtMC42MjhjMC4zOTktMC4zOTksMC42MjgtMC45NTEsMC42MjgtMS41MTUgICBjMC0wLjU2NC0wLjIyOS0xLjExNi0wLjYyOC0xLjUxNWMtMC4zOTktMC4zOTktMC45NTEtMC42MjgtMS41MTUtMC42MjhDNzkuNzQsNzguMTYyLDc5LjE4OCw3OC4zOSw3OC43ODksNzguNzg5eiI+PC9wYXRoPjwvZz48L3N2Zz4=',

  /*  if (!StyleUtils.getBpmnIsInstantiating(this.style)) {
  paintEnvelopeIcon(paintParameter, false);
  return;
}

const leftMargin = 4;
const topMargin = 4;

// paint a fixed size circle
const circleShapeConfiguration = { ...paintParameter.shape, w: 20, h: 20 };
this.iconPainter.paintCircleIcon({
  c: paintParameter.c,
  shape: circleShapeConfiguration,
  icon: { ...paintParameter.icon, isFilled: false },
  ratioFromParent: undefined, // ensure we will paint the icon with its original size
  setIconOrigin: (canvas: BpmnCanvas) => canvas.setIconOriginToShapeTopLeft(topMargin, leftMargin),
});

// paint an envelope centered inside the circle, with dimensions proportional to the circle dimensions
// set the actual origin of the circle icon: this is what 'setIconOriginToShapeTopLeft' has done prior painting the circle icon
circleShapeConfiguration.x += leftMargin;
circleShapeConfiguration.y += topMargin;

this.iconPainter.paintEnvelopeIcon({
  ...paintParameter,
  shape: circleShapeConfiguration,
  ratioFromParent: 0.65,
  setIconOrigin: (canvas: BpmnCanvas) => canvas.setIconOriginForIconCentered(),
});*/
  receiveTask:
    'data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjMDAwMDAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwIDEwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZD0iTTU4Ljg4NSw3NC4zNjJjMC4wMDItMS4yNDUsMC40Ny0yLjQ3NiwxLjQxOS0zLjQyNWwwLDBsMTEuODktMTEuODljNC4zMTItNC4zMTEsNi40NzQtOS45NzUsNi40NzItMTUuNjI1ICAgYzAuMDAxLTQuMTQ2LTEuMTc0LTguMjk0LTMuNDk3LTExLjkxNWMxLjIyOC0wLjE3NCwyLjQxOC0wLjcxNSwzLjM2LTEuNjU3YzEuMTU2LTEuMTU1LDEuNzM5LTIuNjgxLDEuNzM3LTQuMTk0ICAgYzAuMDAyLTEuNTEzLTAuNTgyLTMuMDQtMS43MzctNC4xOTRjLTEuMTU0LTEuMTU1LTIuNjgxLTEuNzM5LTQuMTk0LTEuNzM3Yy0xLjUxMy0wLjAwMi0zLjA0LDAuNTgxLTQuMTk0LDEuNzM3bDAsMGwwLDAgICBjLTAuOTQyLDAuOTQyLTEuNDgzLDIuMTMyLTEuNjU3LDMuMzZjLTMuNjIxLTIuMzIzLTcuNzY5LTMuNDk4LTExLjkxNS0zLjQ5N2MtNS42NTEtMC4wMDItMTEuMzE0LDIuMTYtMTUuNjI1LDYuNDcybC0xMS44ODksMTEuODkgICBjLTAuOTUsMC45NDktMi4xODEsMS40MTctMy40MjYsMS40MTljLTEuMjQ1LTAuMDAyLTIuNDc3LTAuNDctMy40MjYtMS40MTljLTAuMjgzLTAuMjgzLTAuNjU1LTAuNDI1LTEuMDI2LTAuNDI1ICAgYy0wLjM3MiwwLTAuNzQzLDAuMTQyLTEuMDI2LDAuNDI1Yy0wLjI4MywwLjI4My0wLjQyNSwwLjY1NS0wLjQyNSwxLjAyNmMwLDAuMzcxLDAuMTQyLDAuNzQzLDAuNDI1LDEuMDI2bDAuMDAxLDAuMDAxbDE2LjMsMTYuMyAgIGMtMy4xNTgsMS43NzQtNS4yNyw1LjE1Mi01LjI2OSw5LjAyNGMtMC4wMDEsMi45LDEuMTcxLDUuNTM1LDMuMDYsNy40MjljMS44ODYsMS44OTcsNC41MDcsMy4wNzIsNy4zODQsMy4wNzIgICBjMi4zNjEsMC4wMDEsNC41MzYtMC43NzEsNi4yNy0yLjA3OWMxLjE0MS0wLjg2LDIuMDg5LTEuOTUzLDIuNzk4LTMuMjA0bDcuNTU5LDcuNTU5bDAuMDAxLDAuMDAxYzAuNTY3LDAuNTY3LDEuNDg2LDAuNTY3LDIuMDUzLDAgICBjMC41NjctMC41NjcsMC41NjctMS40ODYsMC0yLjA1M0M1OS4zNTUsNzYuODM4LDU4Ljg4Nyw3NS42MDcsNTguODg1LDc0LjM2MnogTTcxLjMwNywyNS42NTRjMC4wMDItMC43OCwwLjI5My0xLjU0NiwwLjg4Ny0yLjE0MSAgIGwwLDBjMC41OTUtMC41OTQsMS4zNjEtMC44ODUsMi4xNDEtMC44ODdjMC43OCwwLjAwMiwxLjU0NiwwLjI5MywyLjE0MSwwLjg4N2MwLjU5NCwwLjU5NSwwLjg4NSwxLjM2MSwwLjg4NywyLjE0MSAgIGMtMC4wMDIsMC43OC0wLjI5MywxLjU0Ni0wLjg4NywyLjE0MWMtMC41OTUsMC41OTQtMS4zNjIsMC44ODUtMi4xNDEsMC44ODdjLTAuNzgtMC4wMDItMS41NDYtMC4yOTMtMi4xNC0wLjg4NmwtMC4wMDEtMC4wMDEgICBsLTAuMDAxLTAuMDAxQzcxLjU5OSwyNy4xOTksNzEuMzA4LDI2LjQzMyw3MS4zMDcsMjUuNjU0eiBNNDIuOTk2LDI5Ljg0OGMzLjc1Mi0zLjc1MSw4LjY1NS01LjYyLDEzLjU3My01LjYyMiAgIGM0LjkxNywwLjAwMiw5LjgyLDEuODcxLDEzLjU3Miw1LjYyMmwwLDBsMCwwYzMuNzUsMy43NTIsNS42Miw4LjY1NSw1LjYyMiwxMy41NzJjLTAuMDAyLDQuOTE3LTEuODcxLDkuODIxLTUuNjIyLDEzLjU3MyAgIGwtMTEuODksMTEuODlsMCwwYy0xLjI5NCwxLjI5NC0yLjAzNCwyLjk0Mi0yLjIxOSw0LjYzMkwyNi40NzMsNDMuOTU3YzEuNjktMC4xODUsMy4zMzktMC45MjQsNC42MzItMi4yMThsMCwwbDAsMGwwLTAuMDAxICAgTDQyLjk5NiwyOS44NDh6IE00Ni4xNDYsNzMuMTY2Yy0xLjI0OSwwLjkzOS0yLjc5MiwxLjQ5My00LjUyMywxLjQ5NGMtMi4wODEtMC4wMDEtMy45NTYtMC44NDMtNS4zMjYtMi4yMTcgICBjLTEuMzY4LTEuMzc2LTIuMjEzLTMuMjY3LTIuMjE0LTUuMzgxYzAtMy4wOTgsMS44NjctNS43MTYsNC41NDUtNi44NDZsOS44OTEsOS44OTFDNDcuOTg5LDcxLjMzLDQ3LjE4LDcyLjM4Nyw0Ni4xNDYsNzMuMTY2eiI+PC9wYXRoPjxwYXRoIGQ9Ik0yNy41MSwxOS43NTFjMC42MzYtMC40ODgsMC43NTUtMS40LDAuMjY3LTIuMDM1Yy0wLjQ4OC0wLjYzNi0xLjQtMC43NTUtMi4wMzUtMC4yNjdsMCwwICAgYy0zLjEwNSwyLjM4NS01LjkwOCw1LjE4OC04LjI5Myw4LjI5M2MtMC40ODgsMC42MzYtMC4zNjksMS41NDcsMC4yNjcsMi4wMzZjMC42MzYsMC40ODgsMS41NDcsMC4zNjksMi4wMzYtMC4yNjcgICBDMjEuOTgsMjQuNjA4LDI0LjYwOCwyMS45OCwyNy41MSwxOS43NTF6Ij48L3BhdGg+PHBhdGggZD0iTTgyLjY1Myw3NC4yNjNjMC40OTEtMC42MzQsMC4zNzUtMS41NDYtMC4yNTktMi4wMzZjLTAuNjM0LTAuNDkxLTEuNTQ2LTAuMzc1LTIuMDM2LDAuMjU5bDAsMCAgIGMtMi4yNzMsMi45MzQtNC45MzksNS42LTcuODczLDcuODczYy0wLjYzNCwwLjQ5MS0wLjc1LDEuNDAzLTAuMjU5LDIuMDM3YzAuNDkxLDAuNjM0LDEuNDAzLDAuNzUsMi4wMzcsMC4yNTkgICBDNzcuMzkzLDgwLjIyOSw4MC4yMjksNzcuMzkyLDgyLjY1Myw3NC4yNjN6Ij48L3BhdGg+PHBhdGggZD0iTTIzLjUyNSw1LjYzOUMyMy4wNzYsNC45NzQsMjIuMTczLDQuOCwyMS41MDksNS4yNWwwLDBjLTYuMzQ4LDQuMjk2LTExLjk2Myw5LjkxMi0xNi4yNiwxNi4yNiAgIGMtMC40NDksMC42NjQtMC4yNzUsMS41NjcsMC4zODksMi4wMTZjMC42NjQsMC40NDksMS41NjcsMC4yNzUsMi4wMTYtMC4zODljNC4wODEtNi4wMzQsOS40NDgtMTEuNDAxLDE1LjQ4Mi0xNS40ODIgICBDMjMuOCw3LjIwNSwyMy45NzQsNi4zMDIsMjMuNTI1LDUuNjM5eiI+PC9wYXRoPjxwYXRoIGQ9Ik05NC4zNzgsNzYuMjc4Yy0wLjY1OC0wLjQ1OC0xLjU2My0wLjI5Ny0yLjAyMSwwLjM2MWwwLDBjLTQuMjE3LDYuMDUyLTkuNjY2LDExLjUwMS0xNS43MTgsMTUuNzE4ICAgYy0wLjY1OCwwLjQ1OC0wLjgxOSwxLjM2My0wLjM2MSwyLjAyMWMwLjQ1OCwwLjY1OCwxLjM2MywwLjgxOSwyLjAyMSwwLjM2MWM2LjM0Mi00LjQyMSwxMi4wMTktMTAuMDk4LDE2LjQ0LTE2LjQ0ICAgQzk1LjE5Nyw3Ny42NDEsOTUuMDM2LDc2LjczNiw5NC4zNzgsNzYuMjc4eiI+PC9wYXRoPjwvZz48L3N2Zz4=',

  //  paintEnvelopeIcon(paintParameter, true);
  sendTask:
    'data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjMDAwMDAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwIDEwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZD0iTTY0Ljk5Niw5NC45OTloMC45OTJsMC4wMDIsMGwwLjAwMiwwaDE0LjExOWM2LjU1OCwwLDEyLjIzOS0zLjc1OSwxNC43NTctOS4yOTFjMC4zMzItMC43MywwLjAxLTEuNTktMC43Mi0xLjkyMyAgIGMtMC43My0wLjMzMi0xLjU5LTAuMDEtMS45MjMsMC43MmMtMi4wNDEsNC40ODEtNi42NzcsNy41OS0xMi4xMTUsNy41OWgtMTIuNjdWNzQuNjc3aDguNzFjMC44MDIsMCwxLjQ1Mi0wLjY1LDEuNDUyLTEuNDUxICAgYzAtMC44MDItMC42NS0xLjQ1Mi0xLjQ1Mi0xLjQ1MmgtOC4yMzRjMS43OTgtMS43OTYsMi45MTEtNC4yNzksMi45MTEtNy4wMjJWNDQuMjM0YzIuMjQ5LTAuNzU5LDMuODctMi44OCwzLjg3MS01LjM4NlYzMy4wMSAgIGMtMC4wMDEtNS4yMzUtNC4wNTQtOS41MTEtOS4xOTMtOS44ODhsMC4wMDEtMC4wMDJsMC4wMDEsMGwwLjAxMS0wLjAybDAuMDAzLTAuMDA2bDAsMGMwLjMxMS0wLjU3MSwwLjYyMy0xLjE3MywwLjg1NS0xLjgyMyAgIGwwLjAwMywwLjAwMWwwLjAxNC0wLjA0bDAuMDEtMC4wMjNsLTAuMDAyLDBjMC41NDQtMS4zOTUsMC44MTEtMi44NTUsMC44MTEtNC4zMDJjMC4wMDEtMy43OC0xLjc5OC03LjQ5OC01LjExMy05Ljc4NSAgIEM2MC4wNjIsNS43MSw1Ny43MDIsNSw1NS4zNDMsNWMtMi4zNi0wLjAwMS00LjcyNCwwLjcxLTYuNzcsMi4xMTlsLTAuMDA0LDAuMDAzYy0xLjYzNSwxLjEzMi0yLjk0LDIuNjMtMy44MjIsNC40MjMgICBjLTAuMjA1LDAuNDEyLTAuMzc2LDAuODI5LTAuNTMxLDEuMjQ4Yy0wLjE1Ni0wLjQxOS0wLjMyNi0wLjgzNi0wLjUzMi0xLjI0OGMtMC44ODItMS43OTItMi4xODctMy4yOTEtMy44MjItNC40MjMgICBDMzcuODIxLDUuNzEsMzUuNDU2LDUsMzMuMDk0LDVDMzAuNzMzLDUsMjguMzY5LDUuNzA5LDI2LjMzLDcuMTJjLTMuMzE1LDIuMjg2LTUuMTE1LDYuMDA1LTUuMTE0LDkuNzg1ICAgYzAsMS40NjIsMC4yNywyLjkzNywwLjgyNSw0LjM0NGwtMC4wMDEsMGwwLjAwNSwwLjAxMWwwLjAwNCwwLjAxbDAuMDAxLDBjMC4yMzMsMC42MDksMC41MjksMS4yMjEsMC44NTcsMS44MjNsMCwwbDAuMDA0LDAuMDA4ICAgbDAuMDEsMC4wMTlsMC4wMDEsMGwwLjAwMSwwLjAwM2MtNS4xMzgsMC4zNzgtOS4xODksNC42NTQtOS4xOSw5Ljg4OHY1LjgzOGMwLjAwMSwyLjUwNiwxLjYyMiw0LjYyNywzLjg3MSw1LjM4NnYyMC41MTggICBjMCwyLjc0MywxLjExMyw1LjIyNiwyLjkxMSw3LjAyMmgtOC4yMzRjLTAuODAyLDAtMS40NTIsMC42NS0xLjQ1MiwxLjQ1MmMwLDAuODAyLDAuNjUsMS40NTEsMS40NTIsMS40NTFoOC43MXYxNy40MTlINi40NTIgICBDNS42NSw5Mi4wOTYsNSw5Mi43NDYsNSw5My41NDhjMCwwLjgwMiwwLjY1LDEuNDUyLDEuNDUyLDEuNDUydjBIMjIuNDRsMC4wMDIsMGwwLjAwMiwwaDAuNTYzSDY0Ljk5NnogTTY1Ljg2OSw2OS43MTcgICBjLTEuMjc1LDEuMjczLTMuMDIyLDIuMDU2LTQuOTY1LDIuMDU3SDQ1LjY2NlY0NC41MzZoMjIuMjU5bDAsMjAuMjE2QzY3LjkyNSw2Ni42OTYsNjcuMTQyLDY4LjQ0Miw2NS44NjksNjkuNzE3eiBNNzEuNzk3LDMzLjAxICAgdjUuODM4Yy0wLjAwMywxLjUzNy0xLjI0NywyLjc4Mi0yLjc4NSwyLjc4NUg0NS42NjZWMjUuOTg4aDE5LjEwOGMxLjk0NCwwLjAwMSwzLjY5LDAuNzg0LDQuOTY1LDIuMDU3ICAgQzcxLjAxMywyOS4zMiw3MS43OTYsMzEuMDY2LDcxLjc5NywzMy4wMXogTTQ3LjM0OSwxMi44MzJjMC42NzEtMS4zNTcsMS42MjMtMi40NTMsMi44NzMtMy4zMjIgICBjMS41NjItMS4wNzQsMy4zNDItMS42MDUsNS4xMjEtMS42MDZjMS43OCwwLjAwMSwzLjU1NSwwLjUzMiw1LjEwNywxLjYwNWwwLjAwMiwwLjAwMmMyLjQ5NiwxLjcxOSwzLjg1Nyw0LjUyNiwzLjg1OCw3LjM5NSAgIGMwLDEuMTEyLTAuMjA1LDIuMjMtMC42MjgsMy4yOTVsLTAuMDIzLDAuMDYzYy0wLjEzMiwwLjM5LTAuMzkzLDAuOTExLTAuNjk2LDEuNDYybC0wLjAxNCwwLjAyNiAgIGMtMC4xODksMC4zNjQtMC40MjksMC43NjItMC42ODUsMS4xODNsLTAuMDk3LDAuMTQ5SDQ1LjY2NnYtMC41NjlsMC0wLjAwMWwwLTAuMDAxYzAtMi4xMTYsMC4xOTUtNC4yMDcsMC42MDItNi4yOCAgIGMwLjI0NS0xLjIzLDAuNTY5LTIuMzgsMS4wNzctMy4zOTZMNDcuMzQ5LDEyLjgzMnogTTI3Ljk3OCw5LjUxbDAuMDAyLTAuMDAyYzEuNTUtMS4wNzMsMy4zMzEtMS42MDUsNS4xMTQtMS42MDUgICBjMS43ODMsMC4wMDEsMy41NjMsMC41MzMsNS4xMTQsMS42MDVjMS4yNDksMC44NjksMi4yMDEsMS45NjUsMi44NzMsMy4zMjNsMC4wMDMsMC4wMDZjMC41MDgsMS4wMTcsMC44MzIsMi4xNjYsMS4wNzcsMy4zOTYgICBjMC40MDcsMi4wNzMsMC42MDIsNC4xNjUsMC42MDIsNi4yODF2MC41NjlIMjYuMjY0bC0wLjA5Ny0wLjE0OWMtMC4yNTYtMC40MjEtMC40OTYtMC44MTktMC42ODYtMS4xODNsLTAuMDE0LTAuMDI2ICAgYy0wLjI5Mi0wLjUzMi0wLjU0MS0xLjA1NC0wLjcxMS0xLjUwNGwtMC4wMDgtMC4wMjFjLTAuNDIzLTEuMDY1LTAuNjI4LTIuMTgzLTAuNjI4LTMuMjk1ICAgQzI0LjEyMSwxNC4wMzcsMjUuNDgyLDExLjIyOSwyNy45NzgsOS41MXogTTE2LjYzNiwzOC44NDhWMzMuMDFjMC4wMDEtMS45NDQsMC43ODQtMy42OSwyLjA1Ny00Ljk2NSAgIGMxLjI3NS0xLjI3MywzLjAyMi0yLjA1Niw0Ljk2NS0yLjA1N2gxOS4xMDZ2MTUuNjQ1SDE5LjQyMUMxNy44ODMsNDEuNjMsMTYuNjM5LDQwLjM4NiwxNi42MzYsMzguODQ4eiBNMjAuNTA3LDY0Ljc1MlY0NC41MzYgICBoMjIuMjU3djI3LjIzOEgyNy41MjljLTEuOTQ0LTAuMDAxLTMuNjktMC43ODQtNC45NjUtMi4wNTdDMjEuMjksNjguNDQyLDIwLjUwNyw2Ni42OTYsMjAuNTA3LDY0Ljc1MnogTTI3LjUyOSw3NC42NzdoMzMuMzc1ICAgaDMuNjM1djE3LjQxOUgyMy44OTRWNzQuNjc3SDI3LjUyOXoiPjwvcGF0aD48cG9seWdvbiBwb2ludHM9IjI2LjMyOCw3LjEyMSAyNi4zMyw3LjEyIDI2LjMzMSw3LjEyICAiPjwvcG9seWdvbj48cG9seWdvbiBwb2ludHM9IjQzLjY4MiwxMS41NDEgNDMuNjgzLDExLjU0NSA0My42ODUsMTEuNTQ4ICAiPjwvcG9seWdvbj48cG9seWdvbiBwb2ludHM9IjYyLjA5OSw3LjEyIDYyLjEsNy4xMjEgNjIuMTAxLDcuMTIxICAiPjwvcG9seWdvbj48cG9seWdvbiBwb2ludHM9IjQ0Ljc0NSwxMS41NDggNDQuNzQ2LDExLjU0NSA0NC43NDgsMTEuNTQxICAiPjwvcG9seWdvbj48L2c+PC9zdmc+',

  //     this.iconPainter.paintHandIcon({ ...paintParameter, ratioFromParent: 0.18, setIconOrigin: (canvas: BpmnCanvas) => canvas.setIconOriginToShapeTopLeftProportionally(20) });
  manualTask:
    'data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjMDAwMDAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwIDEwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZD0iTTkzLjM2OSwzOC4yN1YyMC43MzVjMC00LjMxNy0xLjYzNS04LjI0MS00LjI5NS0xMS4wOTJDODYuNDE5LDYuNzkxLDgyLjcwOCw0Ljk5OSw3OC42MjEsNSAgIGMtNC4xMTMtMC4wMDItNy44MjgsMS43OS0xMC40NzcsNC42NDNjLTIuMTk1LDIuMzYxLTMuNjY1LDUuNDYtNC4xMTMsOC45Yy0xLjA2Ni0wLjQ5My0yLjIyMi0wLjc0Ny0zLjM4NS0wLjc0NiAgIGMtMi4yMTMtMC4wMDEtNC40NTksMC44OC02LjIwOSwyLjU5NmwtMC4wMSwwLjAxYy0xLjczNSwxLjczNi0yLjYyOSw0LjAwOC0yLjYyOSw2LjI0N2MtMC4wMDMsMi4wMjMsMC43NDQsNC4wNSwyLjI3OSw1LjU1NyAgIGwtMC4wMDEsMC4wMDFsMy45ODYsNC4wMDRjMS4zOTUsMS40MDEsMy4wOCwyLjQzOSw0LjkwOSwzLjA4NmMtMC40NTMsMC43MTItMC43MjQsMS41NTEtMC43MjQsMi40NTh2OCAgIGMwLjAwMSwyLjU0MSwyLjA1OSw0LjU5OSw0LjYwMSw0LjZoMTAuMzA4djEwLjU2N2MtMC4wMDEsNy41MDEtMy4wMjksMTQuMjY5LTcuOTM2LDE5LjE3OGwtMC4wMDYsMC4wMDYgICBjLTQuOTA5LDQuOTYtMTEuNjcsNy45ODYtMTkuMjMyLDcuOTg4Yy0xMi4xMywwLjAwNC0yMi40MTctNy45OTgtMjUuODg3LTE4Ljk3OGg5LjA1OWMyLjU0MS0wLjAwMSw0LjYtMi4wNTksNC42MDEtNC42MDF2LTggICBjMC0wLjkwNy0wLjI3MS0xLjc0Ni0wLjcyNC0yLjQ1OGMxLjgyOS0wLjY0NywzLjUxNC0xLjY4NSw0LjkwOS0zLjA4NmwzLjk4NS00LjAwNGwtMC4wMDEtMC4wMDEgICBjMS41MzUtMS41MDcsMi4yODItMy41MzQsMi4yNzktNS41NTdjLTAuMDAxLTIuMjM5LTAuODk0LTQuNTExLTIuNjI5LTYuMjQ3bC0wLjAxMS0wLjAxYy0xLjc1LTEuNzE1LTMuOTk2LTIuNTk2LTYuMjA5LTIuNTk2ICAgYy0xLjE2Mi0wLjAwMi0yLjMxOCwwLjI1My0zLjM4NCwwLjc0NWMtMC40NDgtMy40NC0xLjkxOC02LjU0LTQuMTEzLTguOWMtMi42NDktMi44NTQtNi4zNjQtNC42NDUtMTAuNDc3LTQuNjQzICAgYy00LjA4Ny0wLjAwMS03Ljc5OCwxLjc5MS0xMC40NTMsNC42NDJjLTIuNjYsMi44NTEtNC4yOTUsNi43NzYtNC4yOTUsMTEuMDkydjE3LjUzNmMtMC45OSwwLjg0NC0xLjYzLDIuMDg0LTEuNjMxLDMuNDg3djggICBjMC4wMDEsMi41NDEsMi4wNTksNC42LDQuNjAxLDQuNjAxaDExLjQ1MUMyNC42MTMsODUuNzM0LDM2LjIyNyw5NC45OTYsNDkuOTgxLDk1YzguMzQ1LDAuMDAyLDE1Ljg2Ny0zLjM1NywyMS4yOTMtOC44NDYgICBjNS40MjctNS40MjYsOC43ODUtMTIuOTM4LDguNzg0LTIxLjIyOFY1NC4zNThoMTAuMzQxYzIuNTQxLTAuMDAxLDQuNTk5LTIuMDU5LDQuNi00LjZ2LTggICBDOTQuOTk5LDQwLjM1NCw5NC4zNTgsMzkuMTE0LDkzLjM2OSwzOC4yN3ogTTkuNTM0LDM5LjQ5NWMwLTMuNTc5LDEuMzU1LTYuNzk2LDMuNTE1LTkuMTEyYzIuMTY0LTIuMzE2LDUuMTAxLTMuNzE4LDguMzMtMy43MTkgICBjMy4yNjEsMC4wMDIsNi4xOTQsMS40MDQsOC4zNTEsMy43MTdjMi4xNTEsMi4zMTQsMy40OTQsNS41MzEsMy40OTQsOS4xMTR2MC40NjRjMCwwLjU4NywwLjM1NCwxLjExNiwwLjg5NiwxLjM0MSAgIGMwLjU0MiwwLjIyNSwxLjE2NywwLjEsMS41ODItMC4zMTVsMC4xMDUtMC4xMDVjMC45NjctMC45NDQsMi4yMTgtMS40MTYsMy41NDYtMS40MThjMS40NDQsMC4wMDEsMi45NTQsMC41NzIsNC4xNzIsMS43NjEgICBjMS4xODMsMS4xODQsMS43NzQsMi43MjUsMS43NzQsNC4xODljLTAuMDAzLDEuMzM0LTAuNDc2LDIuNTczLTEuNDE5LDMuNDk2bC0wLjAxNCwwLjAxNGwtMy45ODUsNC4wMDQgICBjLTEuOSwxLjkwOC00LjQ3OSwyLjk4My03LjE3MSwyLjk5MUg5LjYwMWwtMC4wNjcsMC4wMDdWMzkuNDk1eiBNNy45MDMsNjguNTE4di04YzAuMDAyLTAuOTA5LDAuNzE4LTEuNjQ1LDEuNjE3LTEuNjg5ICAgbDIzLjE2Mi0wLjAwN2wwLjAyOC0wLjAwMWgwLjQ0MWMwLjkzNywwLjAwMiwxLjY5NiwwLjc2MSwxLjY5NywxLjY5OHY4Yy0wLjAwMiwwLjkzNy0wLjc2LDEuNjk2LTEuNjk3LDEuNjk3SDIyLjIxOGgtMC4xNDVIOS42MDEgICBDOC42NjQsNzAuMjEzLDcuOTA1LDY5LjQ1NCw3LjkwMyw2OC41MTh6IE01Ni4xMzMsMzAuMTYxbC0wLjAxNC0wLjAxNGMtMC45NDMtMC45MjMtMS40MTYtMi4xNjItMS40MTktMy40OTUgICBjLTAuMDAxLTEuNDY0LDAuNTktMy4wMDQsMS43NzQtNC4xODhjMS4yMTctMS4xOSwyLjcyOC0xLjc2MSw0LjE3Mi0xLjc2MmMxLjMyNywwLjAwMywyLjU3OSwwLjQ3NSwzLjU0NywxLjQxOWwwLjEwNSwwLjEwNSAgIGMwLjQxNSwwLjQxNSwxLjAzOSwwLjUzOSwxLjU4MiwwLjMxNWMwLjU0Mi0wLjIyNSwwLjg5Ni0wLjc1NCwwLjg5Ni0xLjM0MXYtMC40NjRjMC0zLjU4MywxLjM0My02LjgsMy40OTQtOS4xMTQgICBjMi4xNTYtMi4zMTQsNS4wODktMy43MTUsOC4zNTEtMy43MTdjMy4yMjksMC4wMDEsNi4xNjYsMS40MDMsOC4zMywzLjcxOWMyLjE2LDIuMzE2LDMuNTE1LDUuNTMzLDMuNTE1LDkuMTEydjE2LjQyOWwtMC4wNjYtMC4wMDcgICBoLTIzLjExYy0yLjY5Mi0wLjAwOC01LjI3MS0xLjA4My03LjE3MS0yLjk5MUw1Ni4xMzMsMzAuMTYxeiBNOTIuMDk3LDQ5Ljc1OGMtMC4wMDIsMC45MzctMC43NiwxLjY5Ni0xLjY5NywxLjY5N0g2Ni44NDcgICBjLTAuOTM3LTAuMDAyLTEuNjk2LTAuNzYxLTEuNjk4LTEuNjk3di04YzAuMDAyLTAuOTM3LDAuNzYxLTEuNjk2LDEuNjk4LTEuNjk4aDAuNDQxbDAuMDI4LDAuMDAxbDIzLjE2MiwwLjAwNyAgIGMwLjg5OSwwLjA0NCwxLjYxNiwwLjc4LDEuNjE3LDEuNjg5VjQ5Ljc1OHoiPjwvcGF0aD48cG9seWdvbiBwb2ludHM9IjcxLjI3Nyw4Ni4xNSA3MS4yNzQsODYuMTUzIDcxLjI3MSw4Ni4xNTYgICI+PC9wb2x5Z29uPjwvZz48L3N2Zz4=',

  //     this.iconPainter.paintScriptIcon({ ...paintParameter, ratioFromParent: 0.22, setIconOrigin: (canvas: BpmnCanvas) => canvas.setIconOriginToShapeTopLeftProportionally(20) });
  scriptTask:
    'data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjMDAwMDAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwIDEwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZD0iTTg3LjQwOSwxNy4yNzhjLTEuMjk5LTAuMDAxLTIuNDYyLTAuNTIyLTMuMzE0LTEuMzczYy0wLjg1LTAuODUzLTEuMzcyLTIuMDE1LTEuMzczLTMuMzE0ICAgYy0wLjAwMS00LjE5My0zLjM5OC03LjU4OS03LjU5LTcuNTloLTIuNDc1Yy0yLjgyNiwwLjAwMS01LjExNCwyLjI4OS01LjExNSw1LjExNXYxNy43MDFjLTQuNDYyLTMuNDI0LTkuODE3LTUuMTQ2LTE1LjE2Ny01LjE0NSAgIGMtMy43NTktMC4wMDEtNy41MiwwLjg1My0xMC45NzQsMi41NDRjLTAuMTE5LDAuMDQzLTAuMjMzLDAuMDk1LTAuMzM0LDAuMTY1Yy0yLjI4NCwxLjE2MS00LjQyOSwyLjY5MS02LjMzNyw0LjZsLTQuNzQ4LDQuNzQ4ICAgYy00Ljg3LDQuODY4LTcuMzEsMTEuMjYzLTcuMzA5LDE3LjY0NWMtMC4wMDEsNS4zNSwxLjcyMSwxMC43MDUsNS4xNDUsMTUuMTY3SDEwLjExNmMtMi44MjYsMC4wMDEtNS4xMTQsMi4yODktNS4xMTUsNS4xMTV2Mi40NzUgICBjMC4wMDEsNC4xOTMsMy4zOTgsNy41ODksNy41OSw3LjU5YzEuMjk5LDAuMDAxLDIuNDYyLDAuNTIyLDMuMzE0LDEuMzczYzAuODUsMC44NTMsMS4zNzIsMi4wMTUsMS4zNzMsMy4zMTQgICBjMC4wMDEsNC4xOTMsMy4zOTgsNy41ODksNy41OSw3LjU5aDIuNDc1YzIuODI1LTAuMDAxLDUuMTE0LTIuMjg5LDUuMTE1LTUuMTE1VjcyLjE4M2MyLjM1OSwxLjgxLDQuOTY2LDMuMTQzLDcuNjkzLDMuOTk3ICAgYzAuMjE1LDAuMTMxLDAuNDYyLDAuMjEsMC43MjMsMC4yMTVjMi4yMDYsMC42MTgsNC40NzksMC45MzMsNi43NTEsMC45MzNjMi41NTgsMC4wMDEsNS4xMTctMC4zOTgsNy41ODEtMS4xODIgICBjMC4xODItMC4wMjUsMC4zNTMtMC4wNzksMC41MDUtMC4xNjNjMy40OTMtMS4xOTQsNi43NzYtMy4xOCw5LjU1OS01Ljk2NGw0Ljc0OC00Ljc0OGgwYzQuODctNC44NjksNy4zMS0xMS4yNjQsNy4zMDktMTcuNjQ1ICAgYzAuMDAxLTUuMzUtMS43MjEtMTAuNzA1LTUuMTQ0LTE1LjE2N2gxNy43MDFjMi44MjYtMC4wMDEsNS4xMTQtMi4yODksNS4xMTUtNS4xMTV2LTIuNDc1ICAgQzk0Ljk5OCwyMC42NzYsOTEuNjAxLDE3LjI3OSw4Ny40MDksMTcuMjc4eiBNMzIuMDM0LDM2Ljc4Mmw0Ljc0OC00Ljc0OGMxLjM2NC0xLjM2NCwyLjg3My0yLjQ4Nyw0LjQ2MS0zLjQxOCAgIGMwLjcxNCwxLjQ2LDEuMTE1LDMuMzkyLDEuMTEsNS4yNzdjMC4wMDYsMi4xMDYtMC40OTMsNC4yNzYtMS4zNzEsNS43NzRsLTAuMDE3LDAuMDMxYy0xLjEzNiwyLjA4NS0xLjY4Myw0LjY2MS0xLjY4OCw3LjIwMSAgIGMwLjAwNiwyLjU0LDAuNTUzLDUuMTE2LDEuNjg4LDcuMjAxbDAuMDI4LDAuMDQ5YzAuODYzLDEuNDIxLDEuMzY4LDMuNTg3LDEuMzYxLDUuNzU2YzAuMDA0LDIuMTA2LTAuNDg4LDQuMjA2LTEuMzcxLDUuNzE2ICAgbC0wLjAxNywwLjAzMWMtMS4xMjIsMi4wNTYtMS42NzIsNC41NjYtMS42ODUsNy4xMzVjLTIuNjM1LTEuMDc2LTUuMTA0LTIuNjgxLTcuMjQ1LTQuODIyYy00LjMwOC00LjMwOS02LjQ1Ny05Ljk0NC02LjQ1OC0xNS41OTIgICBDMjUuNTc3LDQ2LjcyNiwyNy43MjYsNDEuMDkxLDMyLjAzNCwzNi43ODJ6IE0yOS41NTYsODkuODg0Yy0wLjAwMiwxLjIyMS0wLjk5MSwyLjIxLTIuMjEyLDIuMjEyaC0yLjQ3NSAgIGMtMS4yOTktMC4wMDEtMi40NjItMC41MjItMy4zMTQtMS4zNzNjLTAuODUtMC44NTMtMS4zNzItMi4wMTUtMS4zNzMtMy4zMTRjLTAuMDAxLTQuMTkzLTMuMzk4LTcuNTg5LTcuNTktNy41OSAgIGMtMS4yOTktMC4wMDEtMi40NjItMC41MjItMy4zMTQtMS4zNzNjLTAuODUtMC44NTMtMS4zNzItMi4wMTUtMS4zNzMtMy4zMTR2LTIuNDc1YzAuMDAyLTEuMjIxLDAuOTkxLTIuMjEsMi4yMTItMi4yMTJoMTkuNDQgICBWODkuODg0eiBNNDIuMjEzLDczLjcyOGMtMC4wMjItMC4yOTItMC4wMzUtMC41OS0wLjAzNC0wLjg3NGMtMC4wMDQtMi4xNjksMC40ODktNC4yNzksMS4zMzEtNS44MDVsLTAuMDAxLDAgICBjMS4xOTUtMi4wODQsMS43NDMtNC42MTYsMS43NDctNy4xNDJjLTAuMDA3LTIuNTcyLTAuNTQxLTUuMTQ2LTEuNzQ4LTcuMmwwLjAwMS0wLjAwMWMtMC44MzktMS41MTUtMS4zMzYtMy43LTEuMzMxLTUuODA1ICAgYy0wLjAwNi0yLjEwNSwwLjQ5Mi00LjI5LDEuMzMxLTUuODA1bC0wLjAwMS0wLjAwMWMxLjE5OS0yLjA5NiwxLjc0Mi00LjY3NCwxLjc0OC03LjJjLTAuMDA1LTIuMjg3LTAuNDU0LTQuNjEzLTEuNDI4LTYuNTg4ICAgYzIuNzI2LTEuMTQ1LDUuNjMyLTEuNzI4LDguNTQ1LTEuNzI5YzAuNTg1LDAsMS4xNjksMC4wMzgsMS43NTMsMC4wODRjMC4yNDIsMC44NTcsMC41NjYsMS42OSwxLjAyMywyLjQ1OWwtMC4wMDEsMC4wMDEgICBjMC44NzksMS40OTgsMS4zNzcsMy42NjgsMS4zNzEsNS43NzRjMC4wMDYsMi4xMDYtMC40OTMsNC4yNzYtMS4zNzEsNS43NzRsLTAuMDE3LDAuMDMxYy0xLjEzNiwyLjA4NS0xLjY4Myw0LjY2MS0xLjY4OCw3LjIwMSAgIGMwLjAwNiwyLjU0LDAuNTUzLDUuMTE2LDEuNjg4LDcuMjAxbDAuMDI4LDAuMDQ5YzAuODYzLDEuNDIxLDEuMzY4LDMuNTg3LDEuMzYxLDUuNzU2YzAuMDA0LDIuMTA2LTAuNDg4LDQuMjA2LTEuMzcxLDUuNzE2ICAgbC0wLjAxNywwLjAzMWMtMS4xMzIsMi4wNzQtMS42ODUsNC42MDktMS42ODgsNy4yMDFjMCwwLjI2NSwwLjAxNSwwLjUxNywwLjAyOSwwLjc2OGMtMS45MTEsMC41MjQtMy44NzYsMC44MDItNS44NDYsMC44MDMgICBDNDUuODA0LDc0LjQyNCw0My45ODgsNzQuMTc1LDQyLjIxMyw3My43Mjh6IE02Ny45NjYsNjMuMjE4TDY3Ljk2Niw2My4yMThsLTQuNzQ4LDQuNzQ4Yy0yLjAzNSwyLjAzNC00LjM3LDMuNTY5LTYuODU4LDQuNjQyICAgYzAuMDMzLTIuMDgxLDAuNTA3LTQuMDkxLDEuMzE3LTUuNTU5bC0wLjAwMSwwYzEuMTk1LTIuMDg0LDEuNzQzLTQuNjE2LDEuNzQ3LTcuMTQyYy0wLjAwNy0yLjU3Mi0wLjU0MS01LjE0Ni0xLjc0OC03LjIgICBsMC4wMDEtMC4wMDFjLTAuODM5LTEuNTE1LTEuMzM2LTMuNy0xLjMzMS01LjgwNWMtMC4wMDYtMi4xMDUsMC40OTItNC4yOSwxLjMzMS01LjgwNWwtMC4wMDEtMC4wMDEgICBjMS4xOTktMi4wOTYsMS43NDItNC42NzQsMS43NDgtNy4yYy0wLjAwNi0yLjUzOS0wLjU1Mi01LjEzMS0xLjc2NC03LjIzMmwtMC4wMTEtMC4wMThjLTAuMDg2LTAuMTQzLTAuMTY2LTAuMzAxLTAuMjQ0LTAuNDY0ICAgYzMuODY4LDAuOTAzLDcuNTQyLDIuODM3LDEwLjU2MSw1Ljg1NWwwLDBsMCwwYzQuMzA4LDQuMzA5LDYuNDU2LDkuOTQzLDYuNDU4LDE1LjU5MUM3NC40MjMsNTMuMjc0LDcyLjI3NCw1OC45MDgsNjcuOTY2LDYzLjIxOHogICAgTTkyLjA5NiwyNy4zNDRjLTAuMDAyLDEuMjIxLTAuOTkxLDIuMjEtMi4yMTIsMi4yMTJoLTE5LjQ0bDAtMTkuNDRjMC4wMDItMS4yMjEsMC45OTEtMi4yMSwyLjIxMi0yLjIxMmgyLjQ3NSAgIGMxLjI5OSwwLjAwMSwyLjQ2MSwwLjUyMiwzLjMxNCwxLjM3M2MwLjg1LDAuODUzLDEuMzcyLDIuMDE1LDEuMzczLDMuMzE0YzAuMDAxLDQuMTkzLDMuMzk4LDcuNTg5LDcuNTksNy41OSAgIGMxLjI5OSwwLjAwMSwyLjQ2MiwwLjUyMiwzLjMxNCwxLjM3M2MwLjg1MSwwLjg1MywxLjM3MiwyLjAxNSwxLjM3MywzLjMxNFYyNy4zNDR6Ij48L3BhdGg+PC9nPjwvc3ZnPg==',

  // this.iconPainter.paintTableIcon({
  //       ...paintParameter,
  //       ratioFromParent: 0.6,
  //       setIconOrigin: (canvas: BpmnCanvas) => canvas.setIconOriginToShapeTopLeftProportionally(15),
  //     }
  businessRuleTask:
    'data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjMDAwMDAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwIDEwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZD0iTTUyLjE5Niw3MS44N2gtNC4zOTNjLTAuNTE4LTAuMDAxLTEuMDM0LDAuMTY2LTEuNDQyLDAuNTA0Yy0wLjQwNCwwLjMzMi0wLjcxNiwwLjg2NS0wLjcxNywxLjQ5NiAgIGMtMC4wMDIsMC4zMjUsMC4wOSwwLjY2MSwwLjI1NCwwLjk0M2MwLjE2NCwwLjI4MywwLjM5MiwwLjUwOSwwLjYzNiwwLjY3MWwyLjE5NywxLjQ2N2MwLjQxMSwwLjI3MSwwLjg0NCwwLjM3NSwxLjI2OCwwLjM3NyAgIGMwLjQyMi0wLjAwMiwwLjg1Ni0wLjEwNiwxLjI2OC0wLjM3N2wyLjE5Ni0xLjQ2NmwwLjAwMy0wLjAwMmMwLjI0Mi0wLjE2MiwwLjQ3LTAuMzg3LDAuNjMzLTAuNjcgICBjMC4xNjQtMC4yODEsMC4yNTYtMC42MTcsMC4yNTQtMC45NDJjLTAuMDAxLTAuNjMxLTAuMzEyLTEuMTYzLTAuNzE2LTEuNDk1QzUzLjIzMSw3Mi4wMzYsNTIuNzE0LDcxLjg2OSw1Mi4xOTYsNzEuODd6ICAgIE01MS44NTIsNzMuMDY5bC0wLjAwMywwLjAwMmgwTDUxLjg1Miw3My4wNjl6Ij48L3BhdGg+PGNpcmNsZSBjeD0iMzguNTQ2IiBjeT0iNjAuMTAxIiByPSIyLjQ2OCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iNjEuNDU0IiBjeT0iNjAuMTAxIiByPSIyLjQ2OCI+PC9jaXJjbGU+PHBhdGggZD0iTTg0LjUxOCwyOS4xNDljMC42ODYtMC41ODQsMS4zMzQtMS4yMDMsMS45NTgtMS44NGwwLjA5OC0wLjA5OWM1LjM3My01LjUzNiw4LjQyNC0xMi45NjksOC40MjQtMjAuNzU3ICAgYzAtMC44MDItMC42NS0xLjQ1Mi0xLjQ1MS0xLjQ1MmMtMC44MDIsMC0xLjQ1MSwwLjY1LTEuNDUxLDEuNDUyaDBjMCw0LjYzOC0xLjIwNSw5LjEzNS0zLjQxMywxMy4wOTcgICBjLTAuMTI3LTIuNzk5LTAuOTEyLTUuNjExLTEuOTI4LTguMDQ1Yy0wLjU1Ni0xLjMyNi0xLjE4Mi0yLjUzNy0xLjgyMi0zLjU3MWMtMC42NDQtMS4wMzUtMS4yOS0xLjg4OS0xLjk1OS0yLjUzMSAgIGMtMC41OC0wLjU1NC0xLjQ5OS0wLjUzMi0yLjA1MiwwLjA0OGMtMC41NTMsMC41OC0wLjUzMiwxLjQ5OSwwLjA0OCwyLjA1MmMwLjM5OSwwLjM3NywwLjk0OCwxLjA3MiwxLjQ5NSwxLjk1OSAgIGMwLjgyOCwxLjMzNCwxLjY3NywzLjEwOCwyLjMwNSw1LjAxNmMwLjYzLDEuOTA4LDEuMDM4LDMuOTU0LDEuMDM2LDUuODI1Yy0wLjAwMSwxLjk0MS0wLjQzNSwzLjY0OC0xLjM5LDQuOTYxICAgYy0wLjU2OCwwLjU4LTEuMTU3LDEuMTQzLTEuNzgxLDEuNjc1bC01LjE1MSw0LjM4OGMwLjQ2OS0xLjU1MiwwLjY5NC0zLjA5NiwwLjY5Mi00LjU3OGMtMC4wMDYtMy44ODgtMS40NzgtNy4zNy0zLjk1NC05LjUyICAgYy0wLjYwNy0wLjUyNC0xLjUyNC0wLjQ1Ny0yLjA0NywwLjE1Yy0wLjUyNCwwLjYwNy0wLjQ1NywxLjUyMywwLjE1LDIuMDQ3YzEuNzE1LDEuNDY3LDIuOTU0LDQuMTc0LDIuOTQ4LDcuMzIzICAgYy0wLjAwNywzLjMwMy0xLjMyNSw3LjA2Ny00Ljc2OCwxMC40NDhjLTUuMTAzLTUuNTE0LTEyLjM5OS04Ljk3LTIwLjUwNi04Ljk3aDBjLTguMTA3LDAtMTUuNDAzLDMuNDU2LTIwLjUwNiw4Ljk3ICAgYy0zLjQ0Mi0zLjM4MS00Ljc2MS03LjE0NS00Ljc2OC0xMC40NDhjLTAuMDA2LTMuMTQ5LDEuMjMzLTUuODU1LDIuOTQ5LTcuMzIzYzAuNjA3LTAuNTI0LDAuNjc0LTEuNDQsMC4xNS0yLjA0NyAgIGMtMC41MjQtMC42MDctMS40NC0wLjY3NC0yLjA0Ny0wLjE1Yy0yLjQ3NiwyLjE1LTMuOTQ5LDUuNjMzLTMuOTU1LDkuNTJjLTAuMDAyLDEuNDgyLDAuMjIyLDMuMDI2LDAuNjkyLDQuNTc3bC01LjE1MS00LjM4OCAgIGMtMC42MjQtMC41MzEtMS4yMTMtMS4wOTQtMS43ODEtMS42NzRjLTAuOTU2LTEuMzEzLTEuMzktMy4wMTktMS4zOTEtNC45NjFjLTAuMDA0LTIuNDk1LDAuNzI4LTUuMjk4LDEuNzI5LTcuNjc3ICAgYzAuNDk4LTEuMTksMS4wNjEtMi4yNzUsMS42MTItMy4xNjRjMC41NDgtMC44ODgsMS4wOTctMS41ODMsMS40OTYtMS45NmMwLjU4LTAuNTUzLDAuNjAyLTEuNDcyLDAuMDQ5LTIuMDUyICAgYy0wLjU1My0wLjU4LTEuNDcyLTAuNjAyLTIuMDUyLTAuMDQ5Yy0wLjY3LDAuNjQyLTEuMzE2LDEuNDk2LTEuOTYsMi41MzFjLTAuOTYsMS41NS0xLjg5LDMuNTAyLTIuNTk1LDUuNjM3ICAgYy0wLjYyNywxLjkwNi0xLjA1NSwzLjk1NS0xLjE0NSw1Ljk5OGMtMi4yMTQtMy45NjYtMy40MjMtOC40NjktMy40MjMtMTMuMTE1YzAtMC44MDItMC42NS0xLjQ1Mi0xLjQ1MS0xLjQ1MiAgIGMtMC44MDIsMC0xLjQ1MSwwLjY1LTEuNDUxLDEuNDUyaDBjMCw3Ljc5MSwzLjA1NCwxNS4yMjUsOC40MywyMC43NjJsMC4wOTIsMC4wOTJjMC42MjUsMC42MzgsMS4yNzMsMS4yNTcsMS45NiwxLjg0MiAgIGwxMi4xMTYsMTAuMzJjLTEuMTExLDEuNDg4LTIuMDczLDMuMDkyLTIuODczLDQuNzg4Yy0wLjQzMS0wLjY3Mi0wLjkzMS0xLjM2MS0xLjUyMS0yLjAyYy0xLjEwNy0xLjIzMi0yLjUzLTIuMzctNC4zMzQtMi45NDggICBjLTAuODk4LTAuMjg2LTEuODA2LTAuNDAyLTIuNjg1LTAuNDAyYy0yLjYwNiwwLjAwOS00Ljk3MiwwLjk3OS02LjY1LDEuODQzYy0xLjQ1MiwwLjc1Mi0yLjMsMi4yMzItMi4yOTcsMy43NjYgICBjLTAuMDAxLDAuNjU4LDAuMTU1LDEuMzMyLDAuNDc2LDEuOTUzYzAuNTc5LDEuMTIzLDEuMzg5LDIuNDU1LDIuNDkxLDMuNjczYzEuMSwxLjIxMywyLjUxLDIuMzMxLDQuMjkxLDIuOTAxaDAgICBjMC44OTgsMC4yODYsMS44MDYsMC40MDIsMi42ODQsMC40MDFjMS45MDgtMC4wMDcsMy42ODMtMC41MzEsNS4xNTctMS4xNDhjLTAuMTc3LDEuMjcxLTAuMjc1LDIuNTY3LTAuMjc1LDMuODg3djEwLjg5NyAgIEMyMi4wNjMsODIuNDkyLDM0LjU3LDk0Ljk5OCw1MCw5NC45OTlsMCwwdjBjMTUuNDMtMC4wMDEsMjcuOTM3LTEyLjUwOCwyNy45MzgtMjcuOTM4VjU2LjE2NGMwLTEuMzItMC4wOTgtMi42MTYtMC4yNzUtMy44ODcgICBjMS40NzUsMC42MTgsMy4yNDksMS4xNDEsNS4xNTcsMS4xNDhjMC44NzksMCwxLjc4Ni0wLjExNiwyLjY4NS0wLjQwMWgwYzEuNzgxLTAuNTcsMy4xOTEtMS42ODcsNC4yOTEtMi45MDEgICBjMS4xMDItMS4yMTgsMS45MTItMi41NSwyLjQ5MS0zLjY3M2MwLjMyLTAuNjIyLDAuNDc2LTEuMjk0LDAuNDc1LTEuOTUzYzAuMDA0LTEuNTM0LTAuODQ0LTMuMDE0LTIuMjk3LTMuNzY2ICAgYy0xLjY3OC0wLjg2NC00LjA0NC0xLjgzNC02LjY1LTEuODQzYy0wLjg3OSwwLTEuNzg3LDAuMTE2LTIuNjg1LDAuNDAyYy0xLjgwNCwwLjU3Ny0zLjIyNywxLjcxNi00LjMzNCwyLjk0NyAgIGMtMC41OSwwLjY1OS0xLjA5LDEuMzQ4LTEuNTIxLDIuMDJjLTAuOC0xLjY5Ni0xLjc2My0zLjMtMi44NzMtNC43ODhMODQuNTE4LDI5LjE0OXogTTE1LjM3Niw1MC4yNThMMTUuMzc2LDUwLjI1OCAgIGMtMS4xMzUtMC4zNTktMi4xNTMtMS4xMjQtMy4wMjEtMi4wODNjLTAuODY2LTAuOTU1LTEuNTY1LTIuMDg2LTIuMDYyLTMuMDUzYy0wLjEwNy0wLjIwOS0wLjE1My0wLjQxNy0wLjE1NC0wLjYyNCAgIGMwLjAwNC0wLjQ4NSwwLjI1Ni0wLjk0MSwwLjczMS0xLjE4OWMxLjQ0Mi0wLjc1NiwzLjQ2NS0xLjUyNiw1LjMxMy0xLjUxN2MwLjYyNSwwLDEuMjI5LDAuMDgyLDEuODA0LDAuMjY2ICAgYzEuMTUsMC4zNjMsMi4xOCwxLjE0NCwzLjA1NSwyLjEyYzAuODczLDAuOTcyLDEuNTczLDIuMTIsMi4wNjYsMy4wOTFjMC4wOTIsMC4xODIsMC4xMzUsMC4zNzIsMC4xMzYsMC41NjYgICBjLTAuMDAxLDAuNDY0LTAuMjUzLDAuOTE0LTAuNjc3LDEuMTM0Yy0xLjQ0NywwLjc2Ni0zLjUwOCwxLjU2NS01LjM4OCwxLjU1NkMxNi41NTQsNTAuNTIyLDE1Ljk1MSw1MC40NCwxNS4zNzYsNTAuMjU4eiAgICBNNzYuODkxLDQ3LjI2OWMwLjQ5NC0wLjk3MiwxLjE5NC0yLjEyMSwyLjA2Ny0zLjA5MmMwLjg3NS0wLjk3NiwxLjkwNS0xLjc1NywzLjA1NC0yLjEyYzAuNTc1LTAuMTgzLDEuMTc5LTAuMjY1LDEuODA0LTAuMjY2ICAgYzEuODQ3LTAuMDA5LDMuODcxLDAuNzYxLDUuMzEzLDEuNTE3YzAuNDc2LDAuMjQ4LDAuNzI4LDAuNzA0LDAuNzMxLDEuMTg5YzAsMC4yMDctMC4wNDcsMC40MTYtMC4xNTQsMC42MjUgICBjLTAuNDk2LDAuOTY2LTEuMTk0LDIuMDk3LTIuMDYxLDMuMDUyYy0wLjg2OCwwLjk1OS0xLjg4NiwxLjcyNC0zLjAyMSwyLjA4M2MtMC41NzQsMC4xODMtMS4xNzgsMC4yNjUtMS44MDQsMC4yNjUgICBjLTEuODc5LDAuMDEtMy45NDEtMC43ODktNS4zODgtMS41NTZjLTAuNDI0LTAuMjE5LTAuNjc2LTAuNjctMC42NzctMS4xMzRDNzYuNzU2LDQ3LjYzOSw3Ni43OTksNDcuNDUsNzYuODkxLDQ3LjI2OXogICAgTTc1LjAzNSw2Ny4wNjFjLTAuMDAxLDYuOTE4LTIuOCwxMy4xNjctNy4zMzMsMTcuNzAyQzYzLjE2Nyw4OS4yOTYsNTYuOTE4LDkyLjA5NSw1MCw5Mi4wOTZoMCAgIGMtNi45MTgtMC4wMDEtMTMuMTY4LTIuOC0xNy43MDMtNy4zMzNjLTQuNTMzLTQuNTM1LTcuMzMyLTEwLjc4NS03LjMzMy0xNy43MDJWNTYuMTY0YzAuMDAxLTYuMDU5LDIuMTQ4LTExLjYwNSw1LjcyNy0xNS45MzUgICBsMC4wMTctMC4wMTdsMC4wMTItMC4wMTdjMC40OTktMC42MDIsMS4wMjUtMS4xODEsMS41NzctMS43MzRDMzYuODMzLDMzLjkyOSw0My4wODIsMzEuMTMsNTAsMzEuMTI5bDAsMCAgIGM2LjkxOCwwLjAwMSwxMy4xNjcsMi44LDE3LjcwMiw3LjMzMmMwLjU1MiwwLjU1MywxLjA3OCwxLjEzMiwxLjU3NywxLjczNGwwLjAxMiwwLjAxN2wwLjAxNywwLjAxNyAgIGMzLjU3OCw0LjMzMSw1LjcyNiw5Ljg3Niw1LjcyNiwxNS45MzVWNjcuMDYxeiI+PC9wYXRoPjxwYXRoIGQ9Ik02Mi4yODUsNzguMjc2Yy0wLjc0NC0wLjI5OS0xLjU4OSwwLjA2Mi0xLjg4OCwwLjgwN2wwLDBjLTAuMTYzLDAuNDI4LTAuNjQ4LDEuMTAzLTEuMjUsMS42NzUgICBjLTAuNTk2LDAuNTc5LTEuMzE1LDEuMDgtMS44MjUsMS4zMDhjLTAuNzMsMC4zMzItMS4wNTIsMS4xOTMtMC43MiwxLjkyM2MwLjMzMiwwLjczLDEuMTkzLDEuMDUyLDEuOTIzLDAuNzIgICBjMC45MjYtMC40MjYsMS44MjctMS4wODQsMi42MzgtMS44NjFjMC44MDQtMC43ODQsMS41MTItMS42NjQsMS45MjktMi42ODNDNjMuMzksNzkuNDE5LDYzLjAyOSw3OC41NzQsNjIuMjg1LDc4LjI3NnoiPjwvcGF0aD48L2c+PC9zdmc+',
};

export function drawTask(): (cfg?: BpmnNodeConfig, group?: GGroup) => IShape {
  return (cfg, group): IShape => {
    const color = cfg.error ? '#F4664A' : '#30BF78';
    const r = 5;
    const width = (cfg.size as number[])[0];
    const height = (cfg.size as number[])[1];
    const shape = group.addShape('rect', {
      attrs: {
        x: 0,
        y: 0,
        width,
        height,
        stroke: color,
        strokeWidth: StyleDefault.STROKE_WIDTH_THIN,
        radius: r,
      },
      name: 'main-box',
      draggable: true,
    });

    // left icon
    group.addShape('image', {
      attrs: {
        x: 4,
        y: 2,
        height: 16,
        width: 16,
        cursor: 'pointer',
        // eslint-disable-next-line @typescript-eslint/ban-ts-comment
        // @ts-ignore
        img: ICON_MAP[cfg.type],
      },
      name: 'node-icon',
    });

    // label text
    group.addShape('text', {
      attrs: {
        x: cfg.labelCfg.refX,
        y: cfg.labelCfg.refY,
        text: cfg.label,
        fill: 'pink',
      },
      name: 'label',
    });

    // The content list
    // eslint-disable-next-line @typescript-eslint/ban-ts-comment
    // @ts-ignore
    cfg.markers?.forEach((item, index) => {
      // name text
      group.addShape('text', {
        attrs: {
          textBaseline: 'top',
          y: 25,
          x: 24 + index * 60,
          lineHeight: 20,
          text: item.title,
          fill: 'rgba(0,0,0, 0.4)',
        },
        name: `index-title-${index}`,
      });

      // value text
      group.addShape('text', {
        attrs: {
          textBaseline: 'top',
          y: 42,
          x: 24 + index * 60,
          lineHeight: 20,
          text: item.value,
          fill: '#595959',
        },
        name: `index-title-${index}`,
      });
    });
    return shape;
  };
}

/*
function paintEnvelopeIcon(paintParameter: PaintParameter, isFilled: boolean): void {
  IconPainterProvider.get().paintEnvelopeIcon({
    ...paintParameter,
    setIconOrigin: (canvas: BpmnCanvas) => canvas.setIconOriginToShapeTopLeft(),
    ratioFromParent: 0.2,
    icon: { ...paintParameter.icon, isFilled: isFilled },
  });
}

  protected paintMarkerIcons(paintParameter: PaintParameter): void {
    const markers = StyleUtils.getBpmnMarkers(this.style);
    if (markers) {
      orderActivityMarkers(markers.split(',')).forEach((marker, idx, allMarkers) => {
        paintParameter = {
          ...paintParameter,
          setIconOrigin: this.getIconOriginForMarkerIcon(allMarkers.length, idx + 1),
        };
        paintParameter.c.save(); // ensure we can later restore the configuration
        switch (marker) {
          case ShapeBpmnMarkerKind.LOOP:
            this.iconPainter.paintLoopIcon(paintParameter);
            break;
          case ShapeBpmnMarkerKind.MULTI_INSTANCE_SEQUENTIAL:
            this.iconPainter.paintSequentialMultiInstanceIcon(paintParameter);
            break;
          case ShapeBpmnMarkerKind.MULTI_INSTANCE_PARALLEL:
            this.iconPainter.paintParallelMultiInstanceIcon(paintParameter);
            break;
          case ShapeBpmnMarkerKind.EXPAND:
            this.iconPainter.paintExpandIcon(paintParameter);
            break;
        }
        // Restore original configuration to avoid side effects if the iconPainter changed the canvas configuration (colors, ....)
        paintParameter.c.restore();
      });
    }
  }

  private getIconOriginForMarkerIcon(allMarkers: number, markerOrder: number): (canvas: BpmnCanvas) => void {
    let setIconOrigin: (canvas: BpmnCanvas) => void;
    if (allMarkers === 1) {
      setIconOrigin = (canvas: BpmnCanvas) => canvas.setIconOriginForIconBottomCentered();
    } else if (allMarkers === 2) {
      setIconOrigin = (canvas: BpmnCanvas) => {
        canvas.setIconOriginForIconBottomCentered();
        const xTranslation = Math.pow(-1, markerOrder) * (StyleDefault.SHAPE_ACTIVITY_MARKER_ICON_SIZE / 2 + StyleDefault.SHAPE_ACTIVITY_MARKER_ICON_MARGIN);
        canvas.translateIconOrigin(xTranslation, 0);
      };
    } else {
      // TODO: once we support 3 markers in a group
      throw new Error('NOT_IMPLEMENTED - to have a group of >2 markers in a row, centered in the task, implement this piece of code');
    }
    return setIconOrigin;
  }

/!**
 * @internal
 *!/
export class CallActivityShape extends BaseActivityShape {
  public constructor(bounds: mxRectangle, fill: string, stroke: string, strokewidth: number = StyleDefault.STROKE_WIDTH_THICK) {
    super(bounds, fill, stroke, strokewidth);
  }
}

/!**
 * @internal
 *!/
export class SubProcessShape extends BaseActivityShape {
  public constructor(bounds: mxRectangle, fill: string, stroke: string, strokewidth: number) {
    super(bounds, fill, stroke, strokewidth);
  }

  public paintBackground(c: mxAbstractCanvas2D, x: number, y: number, w: number, h: number): void {
    const subProcessKind = StyleUtils.getBpmnSubProcessKind(this.style);
    c.save(); // ensure we can later restore the configuration
    if (subProcessKind === ShapeBpmnSubProcessKind.EVENT) {
      c.setDashed(true, false);
      c.setDashPattern('1 2');
    }

    super.paintBackground(c, x, y, w, h);

    // Restore original configuration to avoid side effects if the iconPainter changed the canvas configuration (colors, ....)
    c.restore();
  }
}

*/
